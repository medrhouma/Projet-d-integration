<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Syst√®me de D√©tection de Conflits - D√©mo</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 40px 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 40px;
        }

        .header h1 {
            font-size: 3em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 30px;
            margin-bottom: 40px;
        }

        .card {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0,0,0,0.3);
        }

        .card-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
        }

        .icon {
            width: 60px;
            height: 60px;
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2em;
        }

        .icon-salle {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        }

        .icon-enseignant {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        }

        .icon-groupe {
            background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
        }

        .card h2 {
            font-size: 1.5em;
            color: #333;
        }

        .card-content {
            color: #666;
            line-height: 1.6;
        }

        .example {
            background: #f8f9fa;
            border-left: 4px solid;
            padding: 15px;
            margin: 15px 0;
            border-radius: 8px;
        }

        .example-error {
            border-color: #dc3545;
            background: #fff5f5;
        }

        .example-success {
            border-color: #28a745;
            background: #f0fff4;
        }

        .timeline {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .timeline h2 {
            text-align: center;
            color: #333;
            margin-bottom: 30px;
            font-size: 2em;
        }

        .timeline-item {
            display: flex;
            gap: 20px;
            margin-bottom: 30px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 15px;
        }

        .timeline-time {
            font-weight: bold;
            color: #667eea;
            min-width: 100px;
        }

        .timeline-content {
            flex: 1;
        }

        .conflict-badge {
            display: inline-block;
            background: #dc3545;
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.85em;
            margin-left: 10px;
        }

        .success-badge {
            display: inline-block;
            background: #28a745;
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.85em;
            margin-left: 10px;
        }

        .code-block {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }

        .status-409 {
            color: #ff6b6b;
            font-weight: bold;
        }

        .status-201 {
            color: #51cf66;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üö® Syst√®me de D√©tection de Conflits</h1>
            <p>Protection automatique contre les chevauchements d'emploi du temps</p>
        </div>

        <div class="grid">
            <!-- Conflit de Salle -->
            <div class="card">
                <div class="card-header">
                    <div class="icon icon-salle">üè¢</div>
                    <h2>Conflit de Salle</h2>
                </div>
                <div class="card-content">
                    <p><strong>Protection:</strong> Une salle ne peut pas √™tre utilis√©e par deux cours simultan√©ment.</p>
                    
                    <div class="example example-error">
                        <strong>‚ùå Sc√©nario bloqu√©:</strong><br>
                        08:30-10:00 : Math√©matiques en A101<br>
                        09:00-10:30 : Physique en A101<br>
                        <span style="color: #dc3545;">‚Üí Conflit d√©tect√©!</span>
                    </div>

                    <div class="example example-success">
                        <strong>‚úÖ Solution:</strong><br>
                        Changer de salle (A102) ou d'horaire (10:00-11:30)
                    </div>
                </div>
            </div>

            <!-- Conflit d'Enseignant -->
            <div class="card">
                <div class="card-header">
                    <div class="icon icon-enseignant">üë®‚Äçüè´</div>
                    <h2>Conflit d'Enseignant</h2>
                </div>
                <div class="card-content">
                    <p><strong>Protection:</strong> Un enseignant ne peut pas donner deux cours en m√™me temps.</p>
                    
                    <div class="example example-error">
                        <strong>‚ùå Sc√©nario bloqu√©:</strong><br>
                        10:00-11:30 : Prof. Ahmed avec DSI21<br>
                        10:00-11:30 : Prof. Ahmed avec DSI22<br>
                        <span style="color: #dc3545;">‚Üí Conflit d√©tect√©!</span>
                    </div>

                    <div class="example example-success">
                        <strong>‚úÖ Solution:</strong><br>
                        Changer d'enseignant ou d√©caler l'horaire
                    </div>
                </div>
            </div>

            <!-- Conflit de Groupe -->
            <div class="card">
                <div class="card-header">
                    <div class="icon icon-groupe">üë•</div>
                    <h2>Conflit de Groupe</h2>
                </div>
                <div class="card-content">
                    <p><strong>Protection:</strong> Un groupe d'√©tudiants ne peut pas avoir deux cours simultan√©s.</p>
                    
                    <div class="example example-error">
                        <strong>‚ùå Sc√©nario bloqu√©:</strong><br>
                        11:30-13:00 : DSI21 en Math√©matiques<br>
                        11:30-13:00 : DSI21 en Informatique<br>
                        <span style="color: #dc3545;">‚Üí Conflit d√©tect√©!</span>
                    </div>

                    <div class="example example-success">
                        <strong>‚úÖ Solution:</strong><br>
                        Programmer les cours √† des horaires diff√©rents
                    </div>
                </div>
            </div>
        </div>

        <div class="timeline">
            <h2>üìÖ Exemple de Journ√©e Type</h2>
            
            <div class="timeline-item">
                <div class="timeline-time">08:30-10:00</div>
                <div class="timeline-content">
                    <strong>Math√©matiques</strong> - DSI21 - Salle A101 - Prof. Ahmed
                    <span class="success-badge">‚úÖ OK</span>
                </div>
            </div>

            <div class="timeline-item">
                <div class="timeline-time">09:00-10:30</div>
                <div class="timeline-content">
                    <strong>Physique</strong> - DSI22 - Salle A101 - Prof. Karim
                    <span class="conflict-badge">‚ùå CONFLIT SALLE</span><br>
                    <small style="color: #dc3545;">La salle A101 est d√©j√† occup√©e 08:30-10:00</small>
                </div>
            </div>

            <div class="timeline-item">
                <div class="timeline-time">10:00-11:30</div>
                <div class="timeline-content">
                    <strong>Informatique</strong> - DSI21 - Salle B203 - Prof. Ahmed
                    <span class="conflict-badge">‚ùå CONFLIT ENSEIGNANT</span><br>
                    <small style="color: #dc3545;">Prof. Ahmed donne d√©j√† cours 08:30-10:00 (chevauchement)</small>
                </div>
            </div>

            <div class="timeline-item">
                <div class="timeline-time">10:00-11:30</div>
                <div class="timeline-content">
                    <strong>Physique</strong> - DSI22 - Salle A102 - Prof. Karim
                    <span class="success-badge">‚úÖ OK</span><br>
                    <small style="color: #28a745;">Salle diff√©rente, pas de conflit</small>
                </div>
            </div>

            <div class="timeline-item">
                <div class="timeline-time">11:30-13:00</div>
                <div class="timeline-content">
                    <strong>Informatique</strong> - DSI21 - Salle B203 - Prof. Salma
                    <span class="success-badge">‚úÖ OK</span>
                </div>
            </div>

            <div class="timeline-item">
                <div class="timeline-time">14:00-15:30</div>
                <div class="timeline-content">
                    <strong>Anglais</strong> - DSI21 - Salle C105 - Prof. Leila
                    <span class="success-badge">‚úÖ OK</span>
                </div>
            </div>
        </div>

        <div class="timeline" style="margin-top: 30px;">
            <h2>üíª Exemple de R√©ponse API</h2>
            
            <h3 style="margin: 20px 0; color: #333;">POST /api/emploi-temps</h3>
            
            <div class="code-block">
<span style="color: #66d9ef;">POST</span> /api/emploi-temps
<span style="color: #f92672;">{</span>
  <span style="color: #a6e22e;">"date"</span>: <span style="color: #e6db74;">"2025-11-10"</span>,
  <span style="color: #a6e22e;">"heure_debut"</span>: <span style="color: #e6db74;">"2025-11-10T08:30:00Z"</span>,
  <span style="color: #a6e22e;">"heure_fin"</span>: <span style="color: #e6db74;">"2025-11-10T10:00:00Z"</span>,
  <span style="color: #a6e22e;">"id_matiere"</span>: <span style="color: #ae81ff;">1</span>,
  <span style="color: #a6e22e;">"id_salle"</span>: <span style="color: #ae81ff;">2</span>,
  <span style="color: #a6e22e;">"id_groupe"</span>: <span style="color: #ae81ff;">1</span>,
  <span style="color: #a6e22e;">"id_enseignant"</span>: <span style="color: #ae81ff;">3</span>
<span style="color: #f92672;">}</span>

<span class="status-409">‚ùå Response: 409 Conflict</span>
<span style="color: #f92672;">{</span>
  <span style="color: #a6e22e;">"error"</span>: <span style="color: #e6db74;">"Conflits d√©tect√©s"</span>,
  <span style="color: #a6e22e;">"conflits"</span>: <span style="color: #f92672;">[</span>
    <span style="color: #f92672;">{</span>
      <span style="color: #a6e22e;">"type"</span>: <span style="color: #e6db74;">"salle"</span>,
      <span style="color: #a6e22e;">"message"</span>: <span style="color: #e6db74;">"La salle A101 est d√©j√† occup√©e pour Math√©matiques"</span>
    <span style="color: #f92672;">}</span>,
    <span style="color: #f92672;">{</span>
      <span style="color: #a6e22e;">"type"</span>: <span style="color: #e6db74;">"enseignant"</span>,
      <span style="color: #a6e22e;">"message"</span>: <span style="color: #e6db74;">"L'enseignant Ahmed Ben Ali a d√©j√† cours (Physique)"</span>
    <span style="color: #f92672;">}</span>
  <span style="color: #f92672;">]</span>
<span style="color: #f92672;">}</span>
            </div>

            <p style="margin-top: 20px; color: #666;">
                <strong>Note:</strong> Le syst√®me retourne tous les conflits d√©tect√©s en une seule r√©ponse, 
                permettant √† l'utilisateur de voir tous les probl√®mes √† r√©soudre.
            </p>
        </div>
    </div>
</body>
</html>
